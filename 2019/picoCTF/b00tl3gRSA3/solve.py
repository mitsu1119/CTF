import sys
import gmpy2

def egcd(a, b):
    (x, lx) = (0, 1)
    (y, ly) = (1, 0)
    while b != 0:
        q  = a // b
        (a, b) = (b, a % b)
        (x, lx) = (lx - q * x, x)
        (y, ly) = (ly - q * y, y)
    return lx

def modinv(e, fai):
    return egcd(e, fai) % fai


divisors = [
        10593125267,
15057527131,
10772358403,
8990125423,
11584676489,
11683432073,
12207714443,
12639621961,
8609453597,
16177183949,
16764859547,
13311703837,
13154727917,
11864103607,
14924255089,
14560984297,
8898495751,
9837025217,
9391345681,
8641172321,
10220861449,
12814994831,
9315473437,
13480685957,
10116779899,
16754945117,
12863887331,
15667004069,
16486739639,
13932271163,
14899684313,
13722827243,
15924040841,
9183643691
]

n = 1
for i in divisors:
    n *= i

print(n)

c = 6814626413474535177877520451587994175278857242659557140252747188774030080707451199942204618335775226615423696150782788984311921633722163110779670017782033198718793028130674791635290529699764205983457250210726292713059760921653746325959752442580533678493163893058055843348790003534911815986493745665296019814388898579116187398235597379767556538

e = 65537

fai = 1
for i in divisors:
    fai *= (i - 1)

d = modinv(e, fai)

print("m = {}".format(pow(c, d, n)))
